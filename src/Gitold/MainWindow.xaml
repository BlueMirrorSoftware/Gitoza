<Window 
    x:Class="Gitold.MainWindow" 
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="clr-namespace:Gitold"
    xmlns:UserControls="clr-namespace:Gitold.UserControls"
    xmlns:ViewModels="clr-namespace:Gitold.ViewModels;assembly=Gitold.ViewModels"
    xmlns:xctk="http://schemas.xceed.com/wpf/xaml/toolkit"
    xmlns:sys="clr-namespace:System;assembly=mscorlib"
    WindowStyle="None" 
    WindowState="Maximized"  
    ResizeMode="CanResizeWithGrip"
    Title="Gitold.Covalition">
    <WindowChrome.WindowChrome>
        <WindowChrome CaptionHeight="0" ResizeBorderThickness="5" />
    </WindowChrome.WindowChrome>
    <Window.DataContext>
        <ViewModels:MainViewModel />
    </Window.DataContext>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition />
        </Grid.RowDefinitions>
        <Border Margin="12,12,12,12" BorderThickness="0,0,0,1" BorderBrush="{StaticResource AccentColorBrush4}">
        <DockPanel >
                <TextBlock DockPanel.Dock="Left" FontWeight="SemiBold" Foreground="{StaticResource GrayBrush8}" FontSize="30">Gitold</TextBlock>
                <TextBlock DockPanel.Dock="Left" FontWeight="SemiBold" Foreground="{StaticResource AccentColorBrush4}" FontSize="30">Covalition</TextBlock>

            <!--Buttons: minimize, maximize, restore, close-->
            <DockPanel DockPanel.Dock="Right">
                <StackPanel  Width="50" HorizontalAlignment="Right">
                    <Button Height="20" Width="20" Style="{DynamicResource MetroCircleButtonStyle}">
                        <Rectangle HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Fill="#FFCB2D2D" Opacity="0.5" Stroke="Black">
                            <Rectangle.OpacityMask>
                                <VisualBrush Stretch="Fill" Visual="{StaticResource appbar_axis_three}" />
                            </Rectangle.OpacityMask>
                        </Rectangle>
                    </Button>
                </StackPanel>
            </DockPanel>
        </DockPanel>
</Border>
        <TabControl Grid.Row="1">
            <TabItem Header="Charts">

                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition />
                    </Grid.ColumnDefinitions>

                    <Grid Grid.Column="0">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="*" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                        </Grid.RowDefinitions>
                        <Label Content="Local Repo Paths" />
                        <xctk:CheckListBox Grid.Row="1">
                            <sys:String>Folder 1</sys:String>
                            <sys:String>Folder 2</sys:String>
                            <sys:String>Folder 3</sys:String>
                            <sys:String>Folder 4</sys:String>
                        </xctk:CheckListBox>

                        <Button Grid.Row="2" Margin="5" x:Name="btnEditPathList" Click="btnEditPathList_Click">Edit Path List</Button>
                        <Grid Grid.Row="3">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition />
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition />
                                <RowDefinition />
                                <RowDefinition />
                            </Grid.RowDefinitions>
                            <CheckBox Grid.Column="1" Content="All Dates" />
                            <Label Grid.Row="1" Content="From"></Label>
                            <DatePicker Grid.Row="1" Grid.Column="1" />
                            <Label Content="To" Grid.Row="2"></Label>
                            <DatePicker Grid.Column="1" Grid.Row="2" />
                        </Grid>
                        <ComboBox SelectedIndex="0" Grid.Row="4">
                            <ComboBoxItem Content="[All Authors]" />
                            <ComboBoxItem Content="Stefan" />
                            <ComboBoxItem Content="Roman" />
                        </ComboBox>

                        <!--<Label VerticalContentAlignment="Center">Project local folder:</Label>
            <TextBox Margin="2" Grid.Column="1" Text="{Binding Path=Path}" VerticalContentAlignment="Center"></TextBox>-->
                        <Button Grid.Row="5" Command="{Binding Refresh}" Margin="5">Refresh</Button>
                    </Grid>
                    <GridSplitter HorizontalAlignment="Left" Grid.Column="1" Width="3" />
                    <TabControl Grid.Column="2" Margin="2">
                        <TabItem Header="Punch Card">
                            <UserControls:Week />
                        </TabItem>
                        <TabItem Header="All Days">
                            <Label Content="Not implemented yet." />
                        </TabItem>
                    </TabControl>

                </Grid>
            </TabItem>
            <TabItem Header="Settings">
                <UserControls:EditLocalPaths />
            </TabItem>
        </TabControl>
    </Grid>
</Window>
